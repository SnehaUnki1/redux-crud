(this.webpackJsonpreact9=this.webpackJsonpreact9||[]).push([[0],{22:function(e,t,s){},29:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(1),l=s.n(r),i=s(9),c=s.n(i),n=(s(22),s(8)),d=s(11),o=s(3),u=s(4),j=s(2),b=s(7),m=s(6),h=s(10),f=s(5);function O(e){return{type:"ADD_USER",payload:e}}function p(e){return{type:"UPDATE_USER",payload:e}}function x(e){return{type:"DELETE_USER",payload:e}}var v=function(e){Object(b.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).eFirst=l.a.createRef(),a.eLast=l.a.createRef(),a.eMail=l.a.createRef(),a.eMobile=l.a.createRef(),a.state={isEdit:!1},a.toggleHandler=a.toggleHandler.bind(Object(j.a)(a)),a.updateHandler=a.updateHandler.bind(Object(j.a)(a)),a.delHandler=a.delHandler.bind(Object(j.a)(a)),a}return Object(u.a)(s,[{key:"toggleHandler",value:function(){this.setState((function(e,t){return{isEdit:!e.isEdit}}))}},{key:"updateHandler",value:function(){var e={id:this.props.user.id,first:this.eFirst.current.value,last:this.eLast.current.value,email:this.eMail.current.value,mobile:this.eMobile.current.value};console.log("update data",e),this.props.edit(e),this.toggleHandler()}},{key:"delHandler",value:function(){this.props.del(this.props.user.id)}},{key:"render",value:function(){var e=this.props.user,t=e.first,s=e.last,r=e.email,l=e.mobile;return!0===this.state.isEdit?Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",defaultValue:t,ref:this.eFirst,className:"form-control"})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",defaultValue:s,ref:this.eLast,className:"form-control"})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"email",defaultValue:r,ref:this.eMail,className:"form-control"})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"tel",defaultValue:l,ref:this.eMobile,className:"form-control"})}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"btn-group",children:[Object(a.jsx)("button",{className:"btn btn-sm btn-outline-warning",onClick:this.updateHandler,children:Object(a.jsx)("i",{className:"fas fa-save"})}),Object(a.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:this.toggleHandler,children:Object(a.jsx)("i",{className:"far fa fa-times"})})]})})]}):Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsxs)("td",{children:[" ",s," "]}),Object(a.jsxs)("td",{children:[" ",r," "]}),Object(a.jsxs)("td",{children:[" ",l," "]}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"btn-group",children:[Object(a.jsx)("button",{className:"btn btn-outline-info btn-sm",onClick:this.toggleHandler,children:Object(a.jsx)("i",{className:"fas fa-edit"})}),Object(a.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:this.delHandler,children:Object(a.jsx)("i",{className:"fas fa-trash"})})]})})]})}}]),s}(r.Component),g=function(e){Object(b.a)(s,e);var t=Object(m.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=(this.props.userList.map((function(e,t){return Object(a.jsx)(v,{user:e},t)})),this.props.userList.sort((function(e,t){return e.first>t.first?1:-1})).map((function(t,s){return Object(a.jsx)(v,Object(n.a)({user:t},e.props),s)})));return Object(a.jsx)(l.a.Fragment,{children:t})}}]),s}(r.Component),N=function(e){Object(b.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).first=l.a.createRef(),a.last=l.a.createRef(),a.email=l.a.createRef(),a.mobile=l.a.createRef(),a.submitHandler=a.submitHandler.bind(Object(j.a)(a)),a.editHandler=a.editHandler.bind(Object(j.a)(a)),a.deleteHndler=a.deleteHndler.bind(Object(j.a)(a)),a}return Object(u.a)(s,[{key:"submitHandler",value:function(e){e.preventDefault();var t={id:Math.max.apply(Math,Object(d.a)(this.props.userList.map((function(e){return e.id}))))+1,first:this.first.current.value,last:this.last.current.value,email:this.email.current.value,mobile:this.mobile.current.value};console.log("data",t),this.props.addUser(t),this.clear(),window.alert("Successfully Created New User Info")}},{key:"clear",value:function(){this.first.current.value=this.last.current.value=this.email.current.value=this.mobile.current.value=""}},{key:"editHandler",value:function(e){console.log("new data",e),this.props.updateUser(e),window.alert("Successfully Updated..")}},{key:"deleteHndler",value:function(e){if(console.log("delete id ",e),!0!==window.confirm("Do you want to delete user",e))return!1;this.props.deleteUser(e),window.alert("Successfully Deleted")}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12 jumbotron text-center",children:Object(a.jsx)("h1",{children:"State Management CRUD"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsx)("div",{className:"table table-responsive",children:Object(a.jsxs)("table",{className:"table table-dark table-hover table-bordered",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsx)("th",{colSpan:"5",children:Object(a.jsx)("button",{className:"btn btn-outline-success","data-toggle":"modal","data-target":"#myModal",children:"Add New"})})}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"FirstName"}),Object(a.jsx)("th",{children:"LastName"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{children:"Mobile"}),Object(a.jsx)("th",{children:"Actions"})]})]}),Object(a.jsx)("tbody",{children:null===this.props.userList.length?Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"5",children:" No Users found"})}):Object(a.jsx)(g,Object(n.a)(Object(n.a)({},this.props),{},{edit:this.editHandler,del:this.deleteHndler}))})]})})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsx)("div",{className:"modal fade",id:"myModal",children:Object(a.jsx)("div",{className:"modal-dialog modal-md",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h3",{className:"modal-title",children:"Create User"}),Object(a.jsx)("button",{type:"button",className:"close btn btn-sm btn-outline-warning","data-dismiss":"modal",children:Object(a.jsx)("i",{className:"far fa-times-circle"})})]}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsxs)("form",{method:"post",onSubmit:this.submitHandler,children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"first",children:"First"}),Object(a.jsx)("input",{type:"text",ref:this.first,className:"form-control",required:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"last",children:"Last"}),Object(a.jsx)("input",{type:"text",ref:this.last,className:"form-control",required:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",ref:this.email,className:"form-control",required:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(a.jsx)("input",{type:"tel",ref:this.mobile,className:"form-control",maxLength:10,required:!0})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"submit",value:"Create",className:"btn btn-outline-success"})})]})}),Object(a.jsx)("div",{className:"modal-footer"})]})})})})})]})}}]),s}(r.Component),y=Object(h.b)((function(e){return{userList:e}}),(function(e){return Object(f.a)({addUser:O,updateUser:p,deleteUser:x},e)}))(N),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,30)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),l(e),i(e)}))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":var s=[].concat(Object(d.a)(e),[t.payload]);return localStorage.setItem("users",JSON.stringify(s)),s;case"UPDATE_USER":var a=e.map((function(e){var s=t.payload,a=s.id,r=s.first,l=s.last,i=s.email,c=s.mobile;return e.id===a&&(e.first=r,e.last=l,e.email=i,e.mobile=c),e}));return localStorage.setItem("users",JSON.stringify(a)),a;case"DELETE_USER":var r=e.filter((function(e){return e.id!==t.payload}));return localStorage.setItem("users",JSON.stringify(r)),r;default:return e}},E=[{id:1,first:"Pavithra",last:"A S",email:"pavithra@gmail.com",mobile:"9988774455"},{id:2,first:"Mahesh",last:"Kumar",email:"mahesh@gmail.com",mobile:"8877445522"},{id:3,first:"Deepika",last:"D",email:"deepika@gmail.com",mobile:"9988665544"}];null===localStorage.getItem("users")?localStorage.setItem("users",JSON.stringify(E)):E=JSON.parse(localStorage.getItem("users"));var w=Object(f.b)(H,E);c.a.render(Object(a.jsx)(h.a,{store:w,children:Object(a.jsx)(y,{})}),document.getElementById("root")),S()}},[[29,1,2]]]);
//# sourceMappingURL=main.116cf676.chunk.js.map